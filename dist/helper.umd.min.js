(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["helper"]=t():e["helper"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fae3")}({f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},faa1:function(e,t,n){"use strict";var r,o="object"===typeof Reflect?Reflect:null,i=o&&"function"===typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function s(e){console&&console.warn&&console.warn(e)}r=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var u=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function f(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var o,i,u;if(f(n),i=e._events,void 0===i?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),u=i[t]),void 0===u)u=i[t]=n,++e._eventsCount;else if("function"===typeof u?u=i[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),o=l(e),o>0&&u.length>o&&!u.warned){u.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=u.length,s(a)}return e}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=v.bind(r);return o.listener=n,r.wrapFn=o,o}function y(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?g(o):d(o,o.length)}function b(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||u(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||u(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var a=o[e];if(void 0===a)return!1;if("function"===typeof a)i(a,this,t);else{var c=a.length,f=d(a,c);for(n=0;n<c;++n)i(f[n],this,t)}return!0},a.prototype.addListener=function(e,t){return p(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return p(this,e,t,!0)},a.prototype.once=function(e,t){return f(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return f(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,i,s;if(f(t),r=this._events,void 0===r)return this;if(n=r[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():m(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)o=i[r],"removeListener"!==o&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return y(this,e,!0)},a.prototype.rawListeners=function(e){return y(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):b.call(e,t)},a.prototype.listenerCount=b,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},fae3:function(e,t,n){"use strict";var r;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={LOG:"log",INFO:"info",WARN:"warn",ERROR:"err"},u=(o={},i(o,s.LOG,"#4CAF50"),i(o,s.INFO,"#2196F3"),i(o,s.WARN,"#F57C00"),i(o,s.ERROR,"#FF5252"),o),a=function(e){var t=e.type,n=e.title,r=e.desc,o=u[t]||u[s.LOG];"string"===typeof e||"number"===typeof e?(n=e,r=[]):(o=r instanceof Error?u[e.type]?o:u[s.ERROR]:o,r instanceof Array===!1&&(r=void 0!==r?[r]:[])),console.log(""),console.log("============================================================="),console.log("%c".concat(n),"color: white; font-size: 12px; background-color: ".concat(o,"; padding: 2px 5px; border-radius: 2px")),r.length&&(console.log("-"),r.forEach((function(e){console.log(e)})),console.log("-")),console.log("============================================================="),console.log("")};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f={},l=function e(){c(this,e),this.resolveArr=[],this.rejectArr=[],this.value=null},p=function(e,t){var n=new Promise((function(t,n){var r=f[e]=f[e]||new l;r.value?t(r.value):(r.resolveArr.push(t),r.rejectArr.push(n))}));return t?(n.then((function(e){return t(null,e)})).catch((function(e){return t(e,null)})),null):n},v=function(e,t){var n=f[e]=f[e]||new l;if(n.value)return console.warn("来自 waitValue 的警告，".concat(e," 已被赋值，请勿重复通知"));t instanceof Error===!0?n.rejectArr.forEach((function(e){e(t)})):(n.resolveArr.forEach((function(e){e(t)})),n.value=t||!0,delete n.resolveArr,delete n.rejectArr)},h={on:p,emit:v};function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var b={},d=function(e,t){var n=String(e),r=t;"object"===y(r)&&(r=JSON.parse(JSON.stringify(t))),b[n]=r},m=function(e,t){t(b[String(e)])},g={cache:d,back:m},w=function(e){return!!(null===e||void 0===e||"number"===typeof e&&isNaN(e)||""===e)||"string"===typeof e&&""===e.replace(/(^\s*)|(\s*$)/g,"")},O=function(e,t){return(Array(t).join(0)+e).slice(-t)},_={betterShow:function(e,t){var n=null,r=t.toLowerCase(),o="";switch(r){case"b":n=e;break;case"kb":n=1024*e;break;case"mb":n=1024*e*1024;break;case"gb":n=1024*e*1024*1024;break;case"tb":n=1024*e*1024*1024*1024;break;default:throw new Error("fileSizeConver：originUnit 参数单位错误 ".concat(originUnit))}o=n<102.4?n.toFixed(2)+"B":n<104857.6?(n/1024).toFixed(2)+"KB":n<107374182.4?(n/1048576).toFixed(2)+"MB":(n/1073741824).toFixed(2)+"GB";var i=o+"",s=i.indexOf("."),u=i.substr(s+1,2);return"00"==u?i.substring(0,s)+i.substr(s+3,2):i},format:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=null,i=null,s=t.toLowerCase(),u=n.toLowerCase();switch(s){case"b":o=e;break;case"kb":o=1024*e;break;case"mb":o=1024*e*1024;break;case"gb":o=1024*e*1024*1024;break;case"tb":o=1024*e*1024*1024*1024;break;default:throw new Error("fileSizeConver：originUnit 参数单位错误 ".concat(t))}switch(u){case"b":i=o+"b";break;case"kb":i=o/1024+"kb";break;case"mb":i=o/1024/1024+"mb";break;case"gb":i=o/1024/1024/1024+"gb";break;case"tb":i=o/1024/1024/1024/1024+"tb";break;default:throw new Error("fileSizeConver：converUnit 参数单位错误 ".concat(n))}return r?i:parseFloat(i)}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{arrayBrackets:!1},n=new FormData,r=function(r){var o=e[r],i=o instanceof Array;i?o.forEach((function(e,o){n.append(t.arrayBrackets?r+"[]":r,e)})):n.append(r,o)};for(var o in e)r(o);return n};function x(e,t,n,r){e=String(e),t=t||"*",n=n||null,r=r||null;var o=e.length,i=parseInt(o/2),s=parseInt((o-i)/2),u=s+i,a="";"number"===typeof n&&"number"===typeof r&&(n<0&&(n=o+n),r<0&&(r=o+r),r++,i=r-n,s=n,u=r);for(var c=0;c<i;c++)a+=t;return e.substr(0,s)+a+e.substr(u)}var L=n("faa1");function k(e,t,n,r,o,i,s){try{var u=e[i](s),a=u.value}catch(c){return void n(c)}u.done?t(a):Promise.resolve(a).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){k(i,r,o,s,u,"next",e)}function u(e){k(i,r,o,s,u,"throw",e)}s(void 0)}))}}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}var N=function(){function e(t,n){A(this,e),n=P({retry:!1,retryDelay:1e3},n),this.ws=null,this.data=[],this._events=new L["EventEmitter"],this._activClose=!1,this._init(t,n)}return F(e,[{key:"_init",value:function(e,t){var n=this;this.ws=null,this.ws=new WebSocket(e),this.ws.onopen=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];(e=n._events).emit.apply(e,["open"].concat(r))},this.ws.onmessage=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];(e=n._events).emit.apply(e,["message"].concat(r))},this.ws.onerror=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];(e=n._events).emit.apply(e,["error"].concat(r))},this.ws.onclose=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];(e=n._events).emit.apply(e,["close"].concat(r))},this.on("message",(function(e){n.data.push(e.data)})),this.once("close",(function(r){if(!1===Boolean(t.retry)||!0===n._activClose)return null;setTimeout(E(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"function"!==typeof t.retry){e.next=7;break}return e.next=4,t.retry();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=!0;case 8:return e.abrupt("return",e.t0);case 11:return e.prev=11,e.t1=e["catch"](0),console.error(e.t1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))();case 2:o=r.sent,o&&n._init(e,t);case 4:case"end":return r.stop()}}),r)}))),t.retryDelay)}))}},{key:"on",value:function(e,t){return this._events.on(e,t)}},{key:"once",value:function(e,t){return this._events.once(e,t)}},{key:"off",value:function(e,t){return this._events.off(e,t)}},{key:"send",value:function(){var e;return(e=this.ws).send.apply(e,arguments)}},{key:"close",value:function(){var e;return this._activClose=!0,(e=this.ws).close.apply(e,arguments)}}]),e}();n.d(t,"log",(function(){return a})),n.d(t,"waitValue",(function(){return h})),n.d(t,"cacheValue",(function(){return g})),n.d(t,"isEmptyValue",(function(){return w})),n.d(t,"prefixZero",(function(){return O})),n.d(t,"fileSizeConver",(function(){return _})),n.d(t,"objToFormData",(function(){return j})),n.d(t,"hidePartStr",(function(){return x})),n.d(t,"JasonWebSocket",(function(){return N}))}})}));
//# sourceMappingURL=helper.umd.min.js.map